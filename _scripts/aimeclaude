#!/usr/bin/env zsh
set -euo pipefail

# Repo root
REPO_PATH="$(cd "$(dirname "$0")/.." && pwd)"
export REPO_PATH

# Load project env (aliases, PATH, NODE_OPTIONS, .env.local)
source "$REPO_PATH/_scripts/aimeup-env.sh"

# Change to monorepo directory
cd "$REPO_PATH"

# Set terminal color
term-color darkgray

# Show git status
echo "==================================== Git Status ===================================="
git status

# Check Claude usage
echo -e "\n==================================== Claude Usage ===================================="
npx ccusage@latest monthly

# Warning about permissions
echo -e "\n==================================== Starting Claude ===================================="

echo -e "\n‚ö†Ô∏è  WARNING: --dangerously-skip-permissions is enabled"
echo "Claude will have access to execute commands and read files in this directory"
echo "Press Enter to continue or Ctrl+C to abort..."
read -r

# Start Claude
echo -e "\nüöÄ Starting Claude..."
echo $PATH
which claude

claude --dangerously-skip-permissions
